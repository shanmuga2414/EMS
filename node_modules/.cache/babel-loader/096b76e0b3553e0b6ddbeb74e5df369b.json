{"ast":null,"code":"var _jsxFileName = \"/home/wallace/development/dhanraj/ems app/frontend/src/components/Cart.js\";\nimport React, { Component, useEffect } from 'react';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nfunction Cart(props) {\n  const cart = useSelector(state => state.cart);\n  const cartItems = cart.cartItems;\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\n  const dispatch = useDispatch();\n\n  const removeFromCartHandler = productId => {\n    dispatch(removeFromCart(productId));\n  };\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, []);\n\n  const checkoutHandler = () => {\n    props.history.push(\"register?redirect=shipping\");\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"main\", {\n    id: \"content\",\n    classNameName: \"main-content-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"main-content-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cart-area pt--40 pb--80 pt-sm--30 pb-sm--60\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cart-wrapper bg--white mb--80 mb-sm--60\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    action: \"#\",\n    className: \"form form--cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cart-table table-content table-responsive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table mb--30\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Product\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Unit Price\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Quantity\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Total\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Remove\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, cartItems.length === 0 ? React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Cart is Empty\"))) : cartItems.map(item => React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: item.image,\n    alt: \"product\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))), React.createElement(\"td\", {\n    className: \"wide-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: '/product' + item.product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, item.name))), React.createElement(\"td\", {\n    className: \"cart-product-price\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Rs.\", item.price, \".00\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, e.target.value)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, [...Array(item.countInStock).keys()].map(x => React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, x + 1)))), React.createElement(\"td\", {\n    className: \"cart-product-price\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Rs.\", cartItems.reduce((a, c) => a + c.price * c.qty, 0), \".00\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \" \", React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-5 btn-style-1 color-1\",\n    onClick: () => removeFromCartHandler(item.product),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Remove\"))))))), React.createElement(\"div\", {\n    className: \"row pb--30\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-12 text-md-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cart-btn-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: checkoutHandler,\n    className: \"black\",\n    disabled: cartItems.length === 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-angle-double-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), \"Proceed to Checkout\")))))))))))));\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/wallace/development/dhanraj/ems app/frontend/src/components/Cart.js"],"names":["React","Component","useEffect","addToCart","removeFromCart","useDispatch","useSelector","Link","Cart","props","cart","state","cartItems","productId","match","params","id","qty","location","search","Number","split","dispatch","removeFromCartHandler","checkoutHandler","history","push","length","map","item","image","product","name","price","e","target","value","Array","countInStock","keys","x","reduce","a","c"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react'\r\nimport { addToCart,removeFromCart } from '../actions/cartActions';\r\nimport{useDispatch, useSelector} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nfunction Cart(props){\r\n\r\n    const cart = useSelector(state => state.cart);\r\n\r\n    const { cartItems } = cart;\r\n  \r\n    const productId = props.match.params.id;\r\n    const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\r\n    const dispatch = useDispatch();\r\n    const removeFromCartHandler = (productId) => {\r\n      dispatch(removeFromCart(productId));\r\n    }\r\n    useEffect(() => {\r\n      if (productId) {\r\n        dispatch(addToCart(productId, qty));\r\n      }\r\n    }, []);\r\n  const checkoutHandler= () =>\r\n  {\r\n      props.history.push(\"register?redirect=shipping\");\r\n  }\r\n        return (\r\n            <div>\r\n    \r\n               \r\n       \r\n        <main id=\"content\" classNameName=\"main-content-wrapper\">\r\n           \r\n\r\n        \r\n        <div className=\"main-content-wrapper\">\r\n        <div className=\"cart-area pt--40 pb--80 pt-sm--30 pb-sm--60\">\r\n            <div className=\"container\">\r\n                <div className=\"cart-wrapper bg--white mb--80 mb-sm--60\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                         \r\n                            <form action=\"#\" className=\"form form--cart\">\r\n                                <div className=\"cart-table table-content table-responsive\">\r\n                                    <table className=\"table mb--30\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Product</th>\r\n                                                <th>Name</th>\r\n                                                <th>Unit Price</th>\r\n                                                <th>Quantity</th>\r\n                                                <th>Total</th>\r\n                                                <th>Remove</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            \r\n                                            {\r\n                                                cartItems.length===0 ?\r\n                                                <tr><div className=\"center\"><h3>Cart is Empty</h3></div></tr>\r\n                                                :\r\n                                                cartItems.map(item=>\r\n                                                    \r\n                                                    <tr>\r\n                                                   \r\n                                               \r\n                                                    <td>\r\n                                                    <a href=\"#\">\r\n                                                        <img src={item.image} alt=\"product\"/>\r\n                                                    </a>\r\n                                                </td>\r\n                                                <td className=\"wide-column\">\r\n                                                    <h3><Link to = {'/product'+ item.product}>{item.name}</Link></h3>\r\n                                                </td>\r\n                                                <td className=\"cart-product-price\"><strong>Rs.{item.price}.00</strong></td>\r\n                                                <td>\r\n\r\n                                                <select value={item.qty} onChange={(e) => dispatch(addToCart(item.product, e.target.value))}>\r\n                                                {[...Array(item.countInStock).keys()].map(x =>\r\n                                                  <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                                                )}\r\n                                              </select>\r\n\r\n                                                   \r\n                                                </td>\r\n                                                <td className=\"cart-product-price\"><strong>Rs.{cartItems.reduce((a,c)=>a+c.price*c.qty,0)}.00</strong></td>\r\n                                                <td> <button type=\"button\" className=\"btn btn-5 btn-style-1 color-1\" onClick={() => removeFromCartHandler(item.product)}>Remove</button></td>\r\n                                             \r\n                                                </tr>\r\n                                                   \r\n                                                )\r\n                                            \r\n                                                \r\n                                            }\r\n                                            \r\n                                            </tbody>\r\n                                    </table>\r\n                                    \r\n                                </div>\r\n                                <div className=\"row pb--30\">\r\n                                  \r\n                                <div className=\"col-12 text-md-right\">\r\n                                    <div className=\"cart-btn-group\">\r\n                                        <button onClick={checkoutHandler} className=\"black\" disabled={cartItems.length===0}><i className=\"fa fa-angle-double-right\"></i>Proceed to Checkout</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                               \r\n                            </form>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           \r\n            </div>      \r\n        </div>\r\n    </div>\r\n               \r\n            </main>\r\n                </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}