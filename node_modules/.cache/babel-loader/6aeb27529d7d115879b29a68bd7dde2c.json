{"ast":null,"code":"import { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL } from \"../constants/productConstants\";\nimport { PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL } from '../constants/productConstants';\nimport { PRODUCT_SAVE_REQUEST, PRODUCT_SAVE_SUCCESS, PRODUCT_SAVE_FAIL } from '../constants/productConstants';\nimport axios from \"axios\";\n\nconst listProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n\n    const _await$axios$get = await axios.get(\"/api/products\"),\n          data = _await$axios$get.data;\n\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_SAVE_REQUEST,\n      payload: product\n    });\n\n    const _getState = getState(),\n          userInfo = _getState.userLogin.userInfo;\n\n    const _await$axios$post = await axios.post(\"/api/products\", product, {\n      headers: {\n        Authorization: 'Bearer' + userInfo.token\n      }\n    }),\n          data = _await$axios$post.data;\n\n    dispatch({\n      type: PRODUCT_SAVE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST,\n      payload: productId\n    });\n\n    const _await$axios$get2 = await axios.get(\"/api/products/\" + productId),\n          data = _await$axios$get2.data;\n\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listProducts, detailsProduct, saveProduct };","map":{"version":3,"sources":["/home/wallace/development/dhanraj/ems app/frontend/src/actions/productActions.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_SAVE_REQUEST","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL","axios","listProducts","dispatch","type","get","data","payload","error","message","saveProduct","product","getState","userInfo","userLogin","post","headers","Authorization","token","detailsProduct","productId"],"mappings":"AAAA,SAASA,oBAAT,EAA+BC,oBAA/B,EAAqDC,iBAArD,QAA8E,+BAA9E;AACA,SAAOC,uBAAP,EAA+BC,uBAA/B,EAAuDC,oBAAvD,QAAiF,+BAAjF;AACA,SAAQC,oBAAR,EAA6BC,oBAA7B,EAAkDC,iBAAlD,QAAyE,+BAAzE;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,YAAY,GAAE,MAAI,MAAMC,QAAN,IAAiB;AACzC,MACA;AAEQA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEZ;AAAP,KAAD,CAAR;;AAFR,6BAGwB,MAAMS,KAAK,CAACI,GAAN,CAAU,eAAV,CAH9B;AAAA,UAGkBC,IAHlB,oBAGkBA,IAHlB;;AAIQH,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAACX,oBAAN;AAA2Bc,MAAAA,OAAO,EAACD;AAAnC,KAAD,CAAR;AACP,GAND,CAOA,OAAME,KAAN,EACA;AACQL,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAACV,iBAAN;AAAwBa,MAAAA,OAAO,EAACC,KAAK,CAACC;AAAtC,KAAD,CAAR;AACP;AAEA,CAbD;;AAeA,MAAMC,WAAW,GAAIC,OAAD,IAAY,OAAMR,QAAN,EAAgBS,QAAhB,KAChC;AACE,MAAG;AACDT,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEN,oBAAP;AAA4BS,MAAAA,OAAO,EAACI;AAApC,KAAD,CAAR;;AADC,sBAE4BC,QAAQ,EAFpC;AAAA,UAEiBC,QAFjB,aAEMC,SAFN,CAEiBD,QAFjB;;AAAA,8BAGc,MAAMZ,KAAK,CAACc,IAAN,CAAW,eAAX,EAA4BJ,OAA5B,EACrB;AAACK,MAAAA,OAAO,EAAC;AACPC,QAAAA,aAAa,EAAC,WAAWJ,QAAQ,CAACK;AAD3B;AAAT,KADqB,CAHpB;AAAA,UAGMZ,IAHN,qBAGMA,IAHN;;AASDH,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,oBAAR;AAA8BQ,MAAAA,OAAO,EAAED;AAAvC,KAAD,CAAR;AAED,GAXD,CAYA,OAAME,KAAN,EACA;AACEL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEJ,iBAAR;AAA2BO,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAA1C,KAAD,CAAR;AACD;AACF,CAlBD;;AAoBA,MAAMU,cAAc,GAAIC,SAAD,IAAc,MAAMjB,QAAN,IAAiB;AAClD,MACA;AACEA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAET,uBAAR;AAAiCY,MAAAA,OAAO,EAAEa;AAA1C,KAAD,CAAR;;AADF,8BAEmB,MAAMnB,KAAK,CAACI,GAAN,CAAU,mBAAmBe,SAA7B,CAFzB;AAAA,UAEUd,IAFV,qBAEUA,IAFV;;AAGEH,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAER,uBAAR;AAAiCW,MAAAA,OAAO,EAAED;AAA1C,KAAD,CAAR;AACD,GALD,CAMA,OAAOE,KAAP,EACA;AACEL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,oBAAR;AAA8BU,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAA7C,KAAD,CAAR;AACD;AACF,CAXH;;AAYA,SAAQP,YAAR,EAAqBiB,cAArB,EAAoCT,WAApC","sourcesContent":["import { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL } from \"../constants/productConstants\";\r\nimport{PRODUCT_DETAILS_REQUEST,PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_FAIL}from '../constants/productConstants';\r\nimport {PRODUCT_SAVE_REQUEST,PRODUCT_SAVE_SUCCESS,PRODUCT_SAVE_FAIL}from '../constants/productConstants';\r\nimport axios from \"axios\";\r\n\r\nconst listProducts= ()=>async(dispatch)=>{\r\ntry\r\n{\r\n   \r\n        dispatch({type: PRODUCT_LIST_REQUEST});\r\n           const {data}=await axios.get(\"/api/products\");\r\n        dispatch({type:PRODUCT_LIST_SUCCESS,payload:data}) ;\r\n}\r\ncatch(error)\r\n{\r\n        dispatch({type:PRODUCT_LIST_FAIL,payload:error.message}) ;\r\n}\r\n    \r\n};\r\n\r\nconst saveProduct = (product) =>async(dispatch, getState)=>\r\n{\r\n  try{\r\n    dispatch({type: PRODUCT_SAVE_REQUEST,payload:product});\r\n    const {userLogin:{userInfo}}=getState();\r\n    const {data} = await axios.post(\"/api/products\", product, \r\n    {headers:{\r\n      Authorization:'Bearer' + userInfo.token\r\n    },\r\n    \r\n    });\r\n    dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data});\r\n    \r\n  }\r\n  catch(error)\r\n  {\r\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst detailsProduct = (productId) =>async(dispatch)=>{\r\n    try \r\n    {\r\n      dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n      const { data } = await axios.get(\"/api/products/\" + productId);\r\n      dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n    } \r\n    catch (error)\r\n    {\r\n      dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\r\n    }\r\n  };\r\nexport {listProducts,detailsProduct,saveProduct};"]},"metadata":{},"sourceType":"module"}